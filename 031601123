#include<stdio.h>
#include<iostream>
#include<stdlib.h>
#include<cmath>
#include<vector>
#include<cstring>
#include<stack>
#include<set>
#include<string.h>
using namespace std;

#define MAXN 15000//宏定义
FILE *fp1,*fp2; 
struct word{
	char letter[100];
	int num; 
	int id;
};

struct compare{
	
	bool operator()(const word& e1, const word& e2)const{
	if(e1.letter[0]*1000+e1.letter[1]*100+e1.letter[2]<=e2.letter[0]*1000+e2.letter[1]*100+e2.letter[2] ) 
     return true;
    return false;
	}
	
};

struct comparenum{
	
		bool operator()(const word& e1, const word& e2)const{
	if(e1.num>=e2.num ) 
     return true;
    return false;
	}
	
};
set<word,compare>wordin;
set<word,comparenum>wordnum;
int idnum[10];


void input()
{
	
	fp1=fopen("WordCount.txt","r+");
	fp2=fopen("WordCount.txt","r+");
	
	int characters=0,words=0,lines=0,count=0,num,flag,repeatnum,idi=0;
	    char str[100];
 	while(fgets(str,98,fp2)!=NULL)
 	  lines++;


     	while(!feof(fp1))
	{
		 fscanf(fp1,"%s",str);
		flag=0;
	characters+=strlen(str);
	for(int i=0;i<strlen(str)-1;i++)
	{
		if(str[i]>=65 && str[i]<=90)
		    {
		    	 str[i]+=32;
			}
	}
	
	if(str[0]>=97 && str[0]<=122)
     {words++;
     			 word i_word;
     	strncpy(i_word.letter,str,sizeof(str));
     	i_word.id=idi;
     	set<word, compare>::iterator itr;
     	for(itr=wordin.begin() ;itr!=wordin.end() ;itr++)
     	{   
     		if(stricmp(str,itr->letter)==0)
     		    { 
     		         
				     flag=1;
     		    	i_word.num=itr->num+1;
     		    	wordin.erase(itr);
					 break; 
				 }
     		
		 }
		
		if(flag==1)
		{
			wordin.insert(i_word); 
				}		
	if(flag==0){
		 i_word.num=1;
		 wordin.insert(i_word);	
	} 
     	
     	idi++;
	 }
	
	
			
	}
	
		cout<<"characters:"<<characters<<endl;
		cout<<"lines:"<<lines<<endl;
		cout<<"words:"<<words<<endl;
	
	
	
		

	
}

void display()
{
		 word i_word;
		 int i=0;
	set<word, compare>::iterator itr;
     	for( itr=wordin.begin() ;itr!=wordin.end() ;itr++)
     	{
     		i_word.id=itr->id;
     		strncpy(i_word.letter,itr->letter,sizeof(i_word.letter));
     		i_word.num=itr->num;
     	     	wordnum.insert(i_word); 
		 }
		 
		 
		 set<word, comparenum>::iterator itrl;
     	for(itrl=wordnum.begin() ;itrl!=wordnum.end() ;itrl++,i++)
     	{
               idnum[i]=itrl->id;
               if(i==9) break;
		 }
		 
		 	set<word, compare>::iterator itrp;
     	for( itrp=wordin.begin() ;itrp!=wordin.end() ;itrp++)
     	{
     		for(i=0;i<10;i++)
     		{
     			if(itrp->id==idnum[i])
     			{
     				cout<<itrp->letter<<":"<<itrp->num<<endl;
     			      break;	
				 }
			 }
     		
		 }
		 
 } 



int main()
{
	freopen("WordCount.output.txt","w",stdout); 	
	input();
	display();

}
